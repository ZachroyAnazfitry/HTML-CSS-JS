<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript OOP</title>
</head>
<body>

    <h1>Javascript OOP</h1>


    <!-- defined class -->
    <script>
        class Person{

            // add class properties
            firstname = "zach";
            lastname = "roy";
            age = 0;

            // constructor() method
            constructor(firstname, lastname,age){
                this.lastname = lastname;
                this.firstname = firstname;
                this.age = age;
            }

            // class methods
            display(){
                console.log("the person last name is :" +
                this.lastname + ", firstname = " + this.firstname)
            }

        }

        // class object
        var p = new Person( "zach","roy");
        console.log(p);
        // call the class methods
        p.display();

    </script>

    <!-- merging an object -->
    <script>
        var p = { lastname : "Clinton", firstname : "Bill" }
        console.log("p (before modification of p2) =", p);
        // var p2 = { ...p};// copy the properties of object p into 
        // object p2
        // p2.city = "Washington";
        // shortened form
        var p2 = { ...p, city : "Washington" };  
        console.log("p (after modification of p2) =", p);
        console.log("p2 =", p2);
    </script>

    <!-- arrays -->
    <script>
        // create an array
        var arr = ['element 1', 'element 2', 'element 3'];
        arr[10] = "element 9"; // add new array
        console.log(arr)
    </script>

    <!-- Create array using array class and constructor() method -->
    <script>
        var tab = new Array("Element 1", "Element 2", "Element 3", "Element 4", "Element 5");
        console.log(tab);
        tab.forEach(function(elem,i){
            console.log("tab[" + i + "]=", elem);
        });
    </script>

    <!-- insert new array using push() method -->
    <script>
        var zac = ['element1', 'element2', 'element3'];
        zac.push('element5');
        delete zac[0]; // delete an array
        console.log(zac)
    </script>

    <!-- delete array using splice() -->
    <script>
        var zac = ['element1', 'element2', 'element3'];
        zac.splice(0,2)  // begin index, consecutive index
        console.log(zac)
    </script>

<!-- filtering array with filter() -->
<script>
    // original array
    var tab = ["Element 1", "Element 2", "Element 3", "Element 4", "Element 5"];
    console.log("initial tab =", tab);
    // keep only items with index >= 2
    tab = tab.filter(function(element, index) {
        if (index >= 2) return true;// keep this element
    });
    console.log("\nfinal tab =", tab);
</script>

<!-- filtering using map() -->
<script>
    // original array
    var tab = ["Element 1", "Element 2", "Element 3", "Element 4", "Element 5"];
    console.log("initial tab =", tab);
    // capitalize all elements
    tab = tab.map(function(element, index) {
        return element.toUpperCase();
    });
    console.log("\nfinal tab =", tab);
</script>

<!-- create string using class -->
<script>
    var word = new String("Wow, idk.");
    word.charAt(2);
    console.log(word);
    console.log(word.length);  // string property
</script>

<!-- slicing strings -->
<script>
    var s = "Hello";
    console.log("s =", s);
    console.log(`s.slice(0,2) = ${s.slice(0,2)}`);  // backtick
    console.log(`s.slice(0,3) = ${s.slice(0,3)}`);
    console.log(`s.slice(1,3) = ${s.slice(1,3)}`);
    console.log(`s.slice(0,-1) = ${s.slice(0,-1)}`);
    console.log(`s.slice(0,-2) = ${s.slice(0,-2)}`);
    console.log(`s.slice(1,-2) = ${s.slice(1,-2)}`);
</script>

<!-- modifying string with match() -->
<script>
    var s = "Hello";
    console.log("s =", s);
    // search for "Hel"
    console.log(`s.match(/Hel/) = ${s.match(/Hel/)}`);
    // search for "hel"
    console.log(`s.match(/hel/) = ${s.match(/hel/)}`);  
    // search for "hel" ignoring upper/lower case
    console.log(`s.match(/hel/i) = ${s.match(/hel/i)}`);
    // search for H followed by a or b or e followed by l
    console.log(`s.match(/H[abe]l/) = ${s.match(/H[abe]l/)}`);
    // search for He followed by 0 or 1 a followed by l
    console.log(`s.match(/Hea?l/) = ${s.match(/Hea?l/)}`);
    // search for He followed by 0 (min) to 1 (max) followed by l
    console.log(`s.match(/Hea{0,1}l/) = ${s.match(/Hea{0,1}l/)}`);
    // search for He followed 1 (min) to 2 (max) followed by l
    console.log(`s.match(/Hea{1,2}l/) = ${s.match(/Hea{1,2}l/)}`);
</script>

<!-- modifying string with replace() -->
<script>
    var s = "Hello";
    console.log("s =", s);
    // search for "Hel" and replace with "abc"
    console.log(`s.replace(/Hel/, "abc") => ${s.replace(/Hel/, "abc")}`);
    // search for "hel" and replace with "abc"
    console.log(`s.replace(/hel/, "abc") => ${s.replace(/hel/, "abc")}`);  
    // search for hel ignoring upper/lower case and replacing with 
    // "abc"
    console.log(`s.replace(/hel/i, "abc") => ${s.replace(/hel/i, "abc")}`);
    // search for H followed by a or b or e followed by l and 
    // replace with "abc"
    console.log(`s.replace(/H[abe]l/, "abc") => ${s.replace(/H[abe]l/, "abc")}`);
    // search for He followed by 0 or 1 a followed by l and 
    // replaced by "abc"
    console.log(`s.replace(/Hea?l/, "abc") => ${s.replace(/Hea?l/, 
    "abc")}`);
    // search for He followed by 0 (min) to 1 (max) followed by l 
    // and replaced by "abc"
    console.log(`s.replace(/Hea{0,1}l/, "abc") => ${s.replace(/Hea{0,1}l/, "abc")}`);
    // search for He followed by 1 (min) to 2 (max) followed by l 
    // and replaced by "abc"
    console.log(`s.replace(/Hea{1,2}l/, "abc") => ${s.replace(/Hea{1,2}l/, "abc")}`);
</script>

<!-- multitasking with setTimeOut(callback) -->
<script>
    console.log("Before setTimeout()");
    setTimeout(function() {
    console.log("In the callback function");
    }, 5000);// 5000 milliseconds, or 5 seconds
    console.log("After setTimeout()");
</script>

<!-- multitasking with setInterval(callback) -->
<script>
    console.log(time(), "Start of timer");
    var count = 1;
    var timer = setInterval(function() {
    console.log(time(), `count = ${count}`);
    if (count == 5) {
    clearInterval(timer);// timer stop
    console.log(time(), "End of timer");
    } else count++;
    }, 1000);
    function time() {
    // return time as HH:MM:SS
    var date = new Date();
    var hour = date.getHours();
    var min = date.getMinutes();
    var sec = date.getSeconds();
    if (hour < 10) hour = "0" + hour;
    if (min < 10) min = "0" + min;
    if (sec < 10) sec = "0" + sec;
    return "" + hour + ":" + min + ":" + sec + " ";
    }
</script>

    
</body>
</html>